<ContentDialog
    x:Class="Files.Dialogs.FilesystemOperationDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:helpers="using:Files.Helpers"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    RequestedTheme="{x:Bind helpers:ThemeHelper.RootTheme}"
    Title="{x:Bind ViewModel.Title, Mode=OneWay}"
    PrimaryButtonText="{x:Bind ViewModel.PrimaryButtonText, Mode=OneWay}"
    SecondaryButtonText="{x:Bind ViewModel.SecondaryButtonText, Mode=OneWay}"
    CloseButtonText="{x:Bind ViewModel.CloseButtonText, Mode=OneWay}">

    <Border>
        <Grid>
            <StackPanel Spacing="10">
                <TextBlock Text="{x:Bind ViewModel.Subtitle, Mode=OneWay}"/>

                <CheckBox
                    x:Name="chkPermanentlyDelete"
                    x:Uid="ConfirmDeleteDialogPermanentlyDeleteCheckBox"
                    x:Load="{x:Bind ViewModel.PermanentlyDeleteLoad, Mode=OneWay}"
                    Content="Permanently delete"
                    IsEnabled="{x:Bind ViewModel.PermanentlyDeleteEnabled, Mode=OneWay}"
                    IsChecked="{x:Bind ViewModel.PermanentlyDelete, Mode=TwoWay}" />

                <Button Padding="0"
                        Background="Transparent"
                        Command="{x:Bind ViewModel.ExpandDetailsCommand, Mode=OneWay}"
                        CommandParameter="{x:Bind ViewModel}">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal" Spacing="5">
                            <FontIcon
                                x:Name="Expand"
                                x:Load="{x:Bind ViewModel.ChevronDownLoad, Mode=OneWay}"
                                FontSize="14"
                                Glyph="&#xE70D;" />
                            <FontIcon
                                x:Name="Collapse"
                                x:Load="{x:Bind ViewModel.ChevronUpLoad, Mode=OneWay}"
                                FontSize="14"
                                Glyph="&#xE70E;" />
                            <TextBlock Text="Details" FontWeight="Bold"/>
                        </StackPanel>
                    </Button.Content>
                </Button>

                <ScrollViewer
                    MaxHeight="300"
                    x:Name="ExpandableDetails"
                    x:Load="{x:Bind ViewModel.ExpandableDetailsLoad, Mode=OneWay}">
                    <Grid>
                        <StackPanel>
                            <TextBlock Text="{x:Bind ViewModel.ExpandableDetailsData, Mode=OneWay}"/>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </StackPanel>
        </Grid>
    </Border>
</ContentDialog>
